{{ 'view_all.css' | asset_url | stylesheet_tag }}

{% assign view_all_btn = block.id | replace: '_', '' | downcase %}

<div class="view-all-button view-all-button-{{ view_all_btn }}" {{ block.shopify_attributes }}>
  {% if block.settings.collection_url != blank %}
    <a
      href="{{ block.settings.collection_url }}"
      class="view-all-button__link"
      style="
        padding: {{ block.settings.button_padding_vertical }}px {{ block.settings.button_padding_horizontal }}px;
        background-color: {{ block.settings.button_background }};
        color: {{ block.settings.button_text_color }};
        border: {{ block.settings.button_border_width }}px solid {{ block.settings.button_border_color }};
        border-radius: {{ block.settings.button_border_radius }}px;
        font-size: {{ block.settings.button_font_size }}px;
        font-weight: {{ block.settings.button_font_weight }};
      "
    >
      <span class="view-all-button__text">{{ block.settings.button_text }}</span>
    </a>
  {% else %}
    <a
      href="{{ routes.all_products_collection_url }}"
      class="view-all-button__link"
      style="
        padding: {{ block.settings.button_padding_vertical }}px {{ block.settings.button_padding_horizontal }}px;
        background-color: {{ block.settings.button_background }};
        color: {{ block.settings.button_text_color }};
        border: {{ block.settings.button_border_width }}px solid {{ block.settings.button_border_color }};
        border-radius: {{ block.settings.button_border_radius }}px;
        font-size: {{ block.settings.button_font_size }}px;
        font-weight: {{ block.settings.button_font_weight }};
      "
    >
      <span class="view-all-button__text">{{ block.settings.button_text }}</span>
    </a>
  {% endif %}
</div>

{% schema %}
{
  "name": "View all button",
  "settings": [
    {
      "type": "header",
      "content": "Button content"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "View all"
    },
    {
      "type": "url",
      "id": "collection_url",
      "label": "Collection link"
    },
    {
      "type": "header",
      "content": "Button style"
    },
    {
      "type": "color",
      "id": "button_background",
      "label": "Background color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_border_color",
      "label": "Border color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_hover_background",
      "label": "Hover background color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "button_hover_text_color",
      "label": "Hover text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_hover_border_color",
      "label": "Hover border color",
      "default": "#333333"
    },
    {
      "type": "range",
      "id": "button_font_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 14
    },
    {
      "type": "select",
      "id": "button_font_weight",
      "label": "Font weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi-bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "500"
    },
    {
      "type": "range",
      "id": "button_padding_vertical",
      "min": 4,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Vertical padding",
      "default": 12
    },
    {
      "type": "range",
      "id": "button_padding_horizontal",
      "min": 8,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Horizontal padding",
      "default": 24
    },
    {
      "type": "range",
      "id": "button_border_width",
      "min": 0,
      "max": 4,
      "step": 1,
      "unit": "px",
      "label": "Border width",
      "default": 0
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 14
    }
  ],
  "presets": [
    {
      "name": "View all button"
    }
  ]
}
{% endschema %}